# SSLè¯ä¹¦ç®¡ç†ç³»ç»Ÿ - å‰ç«¯ç”¨æˆ·ç«¯

[![license](https://img.shields.io/github/license/pure-admin/vue-pure-admin.svg)](LICENSE)

## é¡¹ç›®ä»‹ç»

è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + TypeScript å¼€å‘çš„SSLè¯ä¹¦ç®¡ç†ç³»ç»Ÿå‰ç«¯ç”¨æˆ·ç«¯é¡¹ç›®ã€‚ç³»ç»Ÿä¸ºç”¨æˆ·æä¾›äº†å®Œæ•´çš„SSLè¯ä¹¦ç”³è¯·ã€ç®¡ç†ã€ä¸‹è½½å’Œéƒ¨ç½²åŠŸèƒ½ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„WebæŠ€æœ¯æ ˆæ„å»ºï¼Œæä¾›ç›´è§‚æ˜“ç”¨çš„ç”¨æˆ·ç•Œé¢å’Œæµç•…çš„æ“ä½œä½“éªŒã€‚

é¡¹ç›®åŸºäº [vue-pure-admin](https://github.com/pure-admin/vue-pure-admin) ç²¾ç®€ç‰ˆè¿›è¡Œå¼€å‘ï¼Œä¸“é—¨é’ˆå¯¹SSLè¯ä¹¦ç”¨æˆ·ç«¯åº”ç”¨åœºæ™¯è¿›è¡Œäº†æ·±åº¦å®šåˆ¶ã€‚

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **UIç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±ç®¡ç†**: Vue Router
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼æ–¹æ¡ˆ**: Sass + TailwindCSS
- **ä»£ç è§„èŒƒ**: ESLint + Prettier + Stylelint
- **åŒ…ç®¡ç†å™¨**: pnpm
- **Monorepo**: pnpm workspace

## Monorepo æ¶æ„

æœ¬é¡¹ç›®æ˜¯ monorepo çš„ä¸€éƒ¨åˆ†ï¼Œä¸ `admin` åº”ç”¨å…±äº« `shared` åŒ…ä¸­çš„ä»£ç ï¼š

```
frontend/
â”œâ”€â”€ shared/     # å…±äº«ä»£ç åº“
â”œâ”€â”€ admin/      # ç®¡ç†ç«¯åº”ç”¨
â””â”€â”€ user/       # ç”¨æˆ·ç«¯åº”ç”¨ (æœ¬é¡¹ç›®)
```

### å…±äº«åŒ…ä½¿ç”¨

é€šè¿‡ `@shared/*` åˆ«åè®¿é—®å…±äº«ä»£ç ï¼š

```typescript
// ç»„ä»¶
import { ReDialog } from "@shared/components/ReDialog";
import { ReRemoteSelect } from "@shared/components/ReRemoteSelect";
import { useRenderIcon } from "@shared/components/ReIcon";

// å·¥å…·å‡½æ•°
import { message, http, emitter } from "@shared/utils";

// æŒ‡ä»¤
import * as directives from "@shared/directives";
```

### åˆå§‹åŒ–é…ç½®

åœ¨ `src/utils/setup.ts` ä¸­é…ç½® shared æ¨¡å—çš„ä¾èµ–æ³¨å…¥ï¼š

```typescript
import { createAuth, createHttp } from "@shared/utils";
import { setHasAuth } from "@shared/directives/auth";

// åˆå§‹åŒ– Authã€Http å’Œæƒé™æŒ‡ä»¤
```

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### ğŸ” ç”¨æˆ·è®¤è¯

- ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- å¯†ç é‡ç½®åŠŸèƒ½
- JWTä»¤ç‰Œè®¤è¯
- è‡ªåŠ¨ç™»å½•ä¿æŒ

### ğŸ“œ è¯ä¹¦ç”³è¯·ä¸ç®¡ç†

- **è¯ä¹¦ç”³è¯·**: æ”¯æŒå•ä¸ªåŸŸåå’Œæ‰¹é‡åŸŸåç”³è¯·
- **å¤šç§éªŒè¯æ–¹å¼**: DNSéªŒè¯ã€æ–‡ä»¶éªŒè¯ã€é‚®ç®±éªŒè¯
- **è‡ªåŠ¨CSRç”Ÿæˆ**: æ”¯æŒè‡ªåŠ¨ç”Ÿæˆå’Œæ‰‹åŠ¨ä¸Šä¼ CSR
- **è¯ä¹¦ç±»å‹**: æ”¯æŒDVã€OVã€EVè¯ä¹¦
- **å¤šCAå“ç‰Œ**: Certumã€GoGetSSLã€Positiveã€SslTrusã€TrustAsiaç­‰

### ğŸ“¦ è®¢å•ç®¡ç†

- è®¢å•åˆ›å»ºä¸è·Ÿè¸ª
- è®¢å•çŠ¶æ€å®æ—¶æ›´æ–°
- æ”¯ä»˜ç®¡ç†ï¼ˆæœªæ”¯ä»˜ã€å·²æ”¯ä»˜ï¼‰
- æ‰¹é‡æ“ä½œï¼ˆæ‰¹é‡ç”³è¯·ã€æ‰¹é‡æ”¯ä»˜ã€æ‰¹é‡æäº¤ï¼‰
- è®¢å•è¯¦æƒ…æŸ¥çœ‹

### ğŸ” åŸŸåéªŒè¯

- **DNSéªŒè¯**: è‡ªåŠ¨ç”ŸæˆCNAME/TXTè®°å½•
- **æ–‡ä»¶éªŒè¯**: æä¾›éªŒè¯æ–‡ä»¶ä¸‹è½½
- **é‚®ç®±éªŒè¯**: ç®¡ç†å‘˜é‚®ç®±éªŒè¯
- **éªŒè¯çŠ¶æ€æ£€æµ‹**: å®æ—¶æ£€æµ‹éªŒè¯çŠ¶æ€
- **æ‰¹é‡éªŒè¯**: æ”¯æŒæ‰¹é‡åŸŸåéªŒè¯

### ğŸ“¥ è¯ä¹¦ä¸‹è½½ä¸éƒ¨ç½²

- **å¤šæ ¼å¼ä¸‹è½½**: Nginxã€Apacheã€IISã€Tomcatç­‰
- **ä¸€é”®éƒ¨ç½²**: å®å¡”é¢æ¿å¿«æ·éƒ¨ç½²
- **è¯ä¹¦è¯¦æƒ…**: æŸ¥çœ‹è¯ä¹¦ä¿¡æ¯ã€æœ‰æ•ˆæœŸç­‰
- **ç§é’¥ç®¡ç†**: å®‰å…¨çš„ç§é’¥æŸ¥çœ‹å’Œå¤åˆ¶

### ğŸ’° è´¢åŠ¡ç®¡ç†

- è´¦æˆ·ä½™é¢æŸ¥è¯¢
- å……å€¼åŠŸèƒ½
- äº¤æ˜“è®°å½•æŸ¥çœ‹
- å‘ç¥¨ç®¡ç†
- èµ„é‡‘æµæ°´

### ğŸ‘¤ ä¸ªäººè®¾ç½®

- ä¸ªäººä¿¡æ¯ç®¡ç†
- è”ç³»äººä¿¡æ¯ç®¡ç†
- ç»„ç»‡ä¿¡æ¯ç®¡ç†ï¼ˆä¼ä¸šç”¨æˆ·ï¼‰
- è´¦æˆ·å®‰å…¨è®¾ç½®

## é¡¹ç›®ç»“æ„

```txt
src/
â”œâ”€â”€ api/                    # APIæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ auth.ts            # ç”¨æˆ·è®¤è¯ç›¸å…³
â”‚   â”œâ”€â”€ order.ts           # è®¢å•ç®¡ç†
â”‚   â”œâ”€â”€ cert.ts            # è¯ä¹¦ç®¡ç†
â”‚   â”œâ”€â”€ product.ts         # äº§å“æŸ¥è¯¢
â”‚   â”œâ”€â”€ funds.ts           # èµ„é‡‘ç®¡ç†
â”‚   â””â”€â”€ ...
â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”œâ”€â”€ components/            # å…¬å…±ç»„ä»¶
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ directives/            # è‡ªå®šä¹‰æŒ‡ä»¤
â”œâ”€â”€ layout/                # å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ plugins/               # æ’ä»¶é…ç½®
â”œâ”€â”€ router/                # è·¯ç”±é…ç½®
â”œâ”€â”€ store/                 # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ style/                 # å…¨å±€æ ·å¼
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ views/                 # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ login/             # ç™»å½•æ³¨å†Œ
â”‚   â”œâ”€â”€ order/             # è®¢å•ç®¡ç†
â”‚   â”œâ”€â”€ product/           # äº§å“æµè§ˆ
â”‚   â”œâ”€â”€ transaction/       # äº¤æ˜“è®°å½•
â”‚   â”œâ”€â”€ funds/             # èµ„é‡‘ç®¡ç†
â”‚   â”œâ”€â”€ setting/           # ä¸ªäººè®¾ç½®
â”‚   â””â”€â”€ ...
â”œâ”€â”€ App.vue                # æ ¹ç»„ä»¶
â””â”€â”€ main.ts                # åº”ç”¨å…¥å£
```

## ç”¨æˆ·æ“ä½œæµç¨‹

### è¯ä¹¦ç”³è¯·æµç¨‹

1. **é€‰æ‹©äº§å“** â†’ æµè§ˆSSLè¯ä¹¦äº§å“ï¼Œé€‰æ‹©åˆé€‚çš„è¯ä¹¦ç±»å‹
2. **å¡«å†™ä¿¡æ¯** â†’ è¾“å…¥åŸŸåã€é€‰æ‹©éªŒè¯æ–¹å¼ã€å¡«å†™ç»„ç»‡ä¿¡æ¯
3. **ç”Ÿæˆè®¢å•** â†’ ç³»ç»Ÿç”Ÿæˆè®¢å•ï¼Œç”¨æˆ·ç¡®è®¤ä¿¡æ¯
4. **æ”¯ä»˜è®¢å•** â†’ å®Œæˆè®¢å•æ”¯ä»˜
5. **åŸŸåéªŒè¯** â†’ æ ¹æ®é€‰æ‹©çš„éªŒè¯æ–¹å¼å®ŒæˆåŸŸåéªŒè¯
6. **è¯ä¹¦ç­¾å‘** â†’ CAæœºæ„éªŒè¯é€šè¿‡åç­¾å‘è¯ä¹¦
7. **ä¸‹è½½éƒ¨ç½²** â†’ ä¸‹è½½è¯ä¹¦æ–‡ä»¶å¹¶éƒ¨ç½²åˆ°æœåŠ¡å™¨

### éªŒè¯æ–¹å¼è¯´æ˜

- **DNSéªŒè¯**: åœ¨åŸŸåDNSä¸­æ·»åŠ æŒ‡å®šçš„CNAMEæˆ–TXTè®°å½•
- **æ–‡ä»¶éªŒè¯**: åœ¨ç½‘ç«™æ ¹ç›®å½•æ”¾ç½®éªŒè¯æ–‡ä»¶
- **é‚®ç®±éªŒè¯**: é€šè¿‡åŸŸåç®¡ç†å‘˜é‚®ç®±æ¥æ”¶éªŒè¯é‚®ä»¶

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.18.0
- pnpm >= 9.0.0

### å®‰è£…ä¾èµ–

```bash
# åœ¨ monorepo æ ¹ç›®å½•è¿è¡Œ
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
# åœ¨ monorepo æ ¹ç›®å½•è¿è¡Œ
pnpm dev:user

# æˆ–åŒæ—¶å¯åŠ¨ admin å’Œ user
pnpm dev

# æˆ–åœ¨å½“å‰ç›®å½•è¿è¡Œ
pnpm dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# åœ¨ monorepo æ ¹ç›®å½•è¿è¡Œ
pnpm build:user

# æˆ–åœ¨å½“å‰ç›®å½•è¿è¡Œ
pnpm build
```

### ä»£ç è§„èŒƒæ£€æŸ¥

```bash
# ESLintæ£€æŸ¥
pnpm lint:eslint

# Prettieræ ¼å¼åŒ–
pnpm lint:prettier

# Stylelintæ ·å¼æ£€æŸ¥
pnpm lint:stylelint

# å…¨éƒ¨æ£€æŸ¥
pnpm lint
```

### ç±»å‹æ£€æŸ¥

```bash
pnpm typecheck
```

## é…ç½®è¯´æ˜

### Platform Config

é¡¹ç›®ä½¿ç”¨ `public/platform-config.json` è¿›è¡Œæ ¸å¿ƒé…ç½®ï¼Œè¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [platform-config.md](./platform-config.md)ã€‚

#### ä¸»è¦é…ç½®é¡¹

```json
{
  "BaseUrlApi": "http://localhost:5300",
  "Brands": ["certum", "gogetssl", "positive", "ssltrus", "trustasia"],
  "Beian": "è±«ICPå¤‡123456789å·"
}
```

#### æ ¸å¿ƒé…ç½®è¯´æ˜

- **BaseUrlApi**: ç”¨æˆ·ç«¯APIåŸºç¡€åœ°å€ï¼Œå¯¹åº”åç«¯ `routes/api.user.php`
- **Brands**: æ”¯æŒçš„SSLè¯ä¹¦CAå“ç‰Œåˆ—è¡¨ï¼ŒåŒ…å«5ä¸ªä¸»æµå“ç‰Œ
- **ResponsiveStorageNameSpace**: æœ¬åœ°å­˜å‚¨å‘½åç©ºé—´ï¼Œä½¿ç”¨ `user-` å‰ç¼€
- **Beian**: ç½‘ç«™å¤‡æ¡ˆå·ï¼Œæ˜¾ç¤ºåœ¨é¡µé¢åº•éƒ¨

## å¼€å‘è§„èŒƒ

### ä»£ç ç»„ç»‡

- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç ç»“æ„
- ä½¿ç”¨TypeScriptå¢å¼ºç±»å‹å®‰å…¨
- éµå¾ªVue 3 Composition APIæœ€ä½³å®è·µ
- ç»„ä»¶é‡‡ç”¨å•æ–‡ä»¶ç»„ä»¶(.vue)æ ¼å¼

### APIæ¥å£

- ç»Ÿä¸€çš„HTTPè¯·æ±‚å°è£…
- è‡ªåŠ¨JWTä»¤ç‰Œç®¡ç†
- è¯·æ±‚å“åº”æ‹¦æˆªå™¨å¤„ç†
- é”™è¯¯ç»Ÿä¸€å¤„ç†

### ç”¨æˆ·ä½“éªŒ

- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- åŠ è½½çŠ¶æ€æç¤º
- æ“ä½œåé¦ˆå’Œç¡®è®¤
- å‹å¥½çš„é”™è¯¯æç¤º

### å®‰å…¨ç‰¹æ€§

- JWTä»¤ç‰Œè‡ªåŠ¨åˆ·æ–°
- æ•æ„Ÿæ“ä½œäºŒæ¬¡ç¡®è®¤
- è¾“å…¥æ•°æ®éªŒè¯
- XSSå’ŒCSRFé˜²æŠ¤

## éƒ¨ç½²è¯´æ˜

### Dockeréƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t ssl-user-frontend .

# è¿è¡Œå®¹å™¨
docker run -p 80:80 ssl-user-frontend
```

### Nginxé…ç½®

```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

## ç”¨æˆ·æŒ‡å—

### é¦–æ¬¡ä½¿ç”¨

1. æ³¨å†Œè´¦æˆ·å¹¶å®Œæˆé‚®ç®±éªŒè¯
2. å®Œå–„ä¸ªäººä¿¡æ¯å’Œè”ç³»æ–¹å¼
3. å……å€¼è´¦æˆ·ä½™é¢ï¼ˆå¦‚éœ€è¦ï¼‰
4. é€‰æ‹©åˆé€‚çš„SSLè¯ä¹¦äº§å“
5. æäº¤è¯ä¹¦ç”³è¯·è®¢å•

### å¸¸è§é—®é¢˜

- **åŸŸåéªŒè¯å¤±è´¥**: æ£€æŸ¥DNSè§£ææ˜¯å¦æ­£ç¡®é…ç½®
- **è¯ä¹¦ç”³è¯·è¢«æ‹’**: ç¡®è®¤åŸŸåæ‰€æœ‰æƒå’Œç»„ç»‡ä¿¡æ¯å‡†ç¡®æ€§
- **æ”¯ä»˜å¤±è´¥**: æ£€æŸ¥è´¦æˆ·ä½™é¢æˆ–è”ç³»å®¢æœ
- **è¯ä¹¦ä¸‹è½½é—®é¢˜**: ç¡®è®¤è¯ä¹¦çŠ¶æ€ä¸º"å·²ç­¾å‘"

## ç›¸å…³é“¾æ¥

- [åç«¯APIæ–‡æ¡£](../../../routes/)
- [ç®¡ç†ç«¯é¡¹ç›®](../admin/)
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://vuejs.org/)
- [Element Plus ç»„ä»¶åº“](https://element-plus.org/)
- [SSLè¯ä¹¦çŸ¥è¯†åº“](https://help.ssl.com/)

## ç‰ˆæœ¬è¯´æ˜

å½“å‰ç‰ˆæœ¬åŸºäº vue-pure-admin ç²¾ç®€ç‰ˆå¼€å‘ï¼Œä¸“é—¨ä¸ºSSLè¯ä¹¦ç”¨æˆ·ç«¯å®šåˆ¶ã€‚

## è®¸å¯è¯

[MIT Â© 2020-present, pure-admin](./LICENSE)
