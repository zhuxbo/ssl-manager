# web目录的文件不会被更新覆盖
# 可以自由编辑
# 可以反向代理到独立的站点

# 帮助中心
location /help {
    # 前端需明确指定 root
    root __PROJECT_ROOT__/frontend/web;
    index index.html;
    # 静态资源：30 天，不加 immutable 以避免缓存问题
    location ~* \.(?:gif|jpe?g|png|bmp|swf|svg|ico|webp|avif|woff2?|pdf|js|css)$ {
        expires 30d;
        add_header Cache-Control "public";
        access_log off;
        error_log off;
    }
    try_files $uri $uri/ /help/index.html;
}

# 主页
location / {
    # 前端需明确指定 root
    root __PROJECT_ROOT__/frontend/web/public;
    index index.html;
    # 静态资源：30 天，不加 immutable 以避免缓存问题
    location ~* \.(?:gif|jpe?g|png|bmp|swf|svg|ico|webp|avif|woff2?|pdf|js|css)$ {
        expires 30d;
        add_header Cache-Control "public";
        access_log off;
        error_log off;
    }
    try_files $uri $uri/ /index.html;
}